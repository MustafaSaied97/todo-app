{"ast":null,"code":"// api.js\nimport axios from 'axios';\nimport router from '@/router/index';\nimport { ENDPOINTS, ROUTESNAMES, notify } from '@/helpers';\nimport { ref } from 'vue';\n\n// Function to make a generic HTTP request\nexport async function callApi({\n  method,\n  url,\n  body = {},\n  headers = {},\n  withFiles = false\n}) {\n  if (!url || !method) {\n    console.error('Both the URL and the method must be provided.');\n    returnPromise.reject({\n      data: {\n        message: 'Both the URL and the method must be provided.'\n      }\n    });\n  }\n  // check network\n  if (!navigator.onLine) {\n    // notify({ type: 'error', msg: 'not_online' });\n    console.error('not_online');\n    return Promise.reject({\n      data: {\n        message: 'not_online'\n      }\n    });\n  }\n  return axios({\n    method,\n    url,\n    ...(body && {\n      data: body\n    })\n    // headers: {\n    //     Accept: 'application/json',\n    //     Platform: 'web',\n    //     'Content-Type': withFiles ? 'multipart/form-data' : 'application/json',\n    //     ...headers,\n    // },\n  }).then(response => response.data).catch(error => {\n    const errorResponse = error.response;\n    switch (errorResponse === null || errorResponse === void 0 ? void 0 : errorResponse.status) {\n      case 404:\n        {\n          // router.push(ROUTESNAMES.errors._404);\n          break;\n        }\n      default:\n        () => {};\n    }\n    return Promise.reject(errorResponse);\n  });\n}","map":{"version":3,"names":["axios","router","ENDPOINTS","ROUTESNAMES","notify","ref","callApi","method","url","body","headers","withFiles","console","error","returnPromise","reject","data","message","navigator","onLine","Promise","then","response","catch","errorResponse","status"],"sources":["/home/hmaserv/Desktop/github/todo-app/src/utils/callApi.js"],"sourcesContent":["// api.js\nimport axios from 'axios';\nimport router from '@/router/index';\nimport { ENDPOINTS, ROUTESNAMES, notify } from '@/helpers';\nimport { ref } from 'vue';\n\n// Function to make a generic HTTP request\nexport async function callApi({ method, url, body = {}, headers = {}, withFiles = false }) {\n    if (!url || !method) {\n        console.error('Both the URL and the method must be provided.');\n        returnPromise.reject({\n            data: {\n                message: 'Both the URL and the method must be provided.'\n            }\n        })\n    }\n    // check network\n    if (!navigator.onLine) {\n        // notify({ type: 'error', msg: 'not_online' });\n        console.error('not_online');\n        return Promise.reject({\n            data: {\n                message: 'not_online'\n            }\n        });\n    }\n\n    return axios({\n        method,\n        url,\n        ...(body && { data: body }),\n        // headers: {\n        //     Accept: 'application/json',\n        //     Platform: 'web',\n        //     'Content-Type': withFiles ? 'multipart/form-data' : 'application/json',\n        //     ...headers,\n        // },\n    })\n        .then((response) => response.data)\n        .catch((error) => {\n            const errorResponse = error.response\n            switch (errorResponse?.status) {\n                case 404: {\n                    // router.push(ROUTESNAMES.errors._404);\n                    break;\n                }\n                default:\n                    () => { };\n            }\n            return Promise.reject(errorResponse);\n        });\n}\n\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,gBAAgB;AACnC,SAASC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,WAAW;AAC1D,SAASC,GAAG,QAAQ,KAAK;;AAEzB;AACA,OAAO,eAAeC,OAAOA,CAAC;EAAEC,MAAM;EAAEC,GAAG;EAAEC,IAAI,GAAG,CAAC,CAAC;EAAEC,OAAO,GAAG,CAAC,CAAC;EAAEC,SAAS,GAAG;AAAM,CAAC,EAAE;EACvF,IAAI,CAACH,GAAG,IAAI,CAACD,MAAM,EAAE;IACjBK,OAAO,CAACC,KAAK,CAAC,+CAA+C,CAAC;IAC9DC,aAAa,CAACC,MAAM,CAAC;MACjBC,IAAI,EAAE;QACFC,OAAO,EAAE;MACb;IACJ,CAAC,CAAC;EACN;EACA;EACA,IAAI,CAACC,SAAS,CAACC,MAAM,EAAE;IACnB;IACAP,OAAO,CAACC,KAAK,CAAC,YAAY,CAAC;IAC3B,OAAOO,OAAO,CAACL,MAAM,CAAC;MAClBC,IAAI,EAAE;QACFC,OAAO,EAAE;MACb;IACJ,CAAC,CAAC;EACN;EAEA,OAAOjB,KAAK,CAAC;IACTO,MAAM;IACNC,GAAG;IACH,IAAIC,IAAI,IAAI;MAAEO,IAAI,EAAEP;IAAK,CAAC;IAC1B;IACA;IACA;IACA;IACA;IACA;EACJ,CAAC,CAAC,CACGY,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACN,IAAI,CAAC,CACjCO,KAAK,CAAEV,KAAK,IAAK;IACd,MAAMW,aAAa,GAAGX,KAAK,CAACS,QAAQ;IACpC,QAAQE,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEC,MAAM;MACzB,KAAK,GAAG;QAAE;UACN;UACA;QACJ;MACA;QACI,MAAM,CAAE,CAAC;IACjB;IACA,OAAOL,OAAO,CAACL,MAAM,CAACS,aAAa,CAAC;EACxC,CAAC,CAAC;AACV"},"metadata":{},"sourceType":"module","externalDependencies":[]}