{"ast":null,"code":"import axios from 'axios';\nexport function callApi({\n  method,\n  url,\n  body = {}\n}) {\n  const source = axios.CancelToken.source();\n  axios({\n    method,\n    url,\n    ...(body && {\n      data: body\n    }),\n    cancelToken: source.token\n  }).then(res => {\n    console.log('res', res);\n    (res === null || res === void 0 ? void 0 : res.data) && setData(res.data);\n  }).catch(err => {\n    console.log('err', err);\n    setError('An error occurred. Awkward..');\n  }).finally(() => {\n    setLoading(false);\n  });\n  return {\n    data,\n    loading,\n    error\n  };\n}","map":{"version":3,"names":["axios","callApi","method","url","body","source","CancelToken","data","cancelToken","token","then","res","console","log","setData","catch","err","setError","finally","setLoading","loading","error"],"sources":["/home/hmaserv/Desktop/github/todo-app/src/utils/callApi.js"],"sourcesContent":["import axios from 'axios';\n\nexport function callApi({ method, url, body = {}}) {\n\n        const source = axios.CancelToken.source();\n        axios({\n            method,\n            url,\n            ...(body && { data: body }),\n            cancelToken: source.token\n        })\n        .then((res) => {\n            console.log('res',res);\n            res?.data && setData(res.data);\n        })\n        .catch((err) => {\n            console.log('err',err);\n            setError('An error occurred. Awkward..');\n        }).finally(()=>{\n            setLoading(false);\n        })\n        \n\n    return { data, loading, error };\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,SAASC,OAAOA,CAAC;EAAEC,MAAM;EAAEC,GAAG;EAAEC,IAAI,GAAG,CAAC;AAAC,CAAC,EAAE;EAE3C,MAAMC,MAAM,GAAGL,KAAK,CAACM,WAAW,CAACD,MAAM,CAAC,CAAC;EACzCL,KAAK,CAAC;IACFE,MAAM;IACNC,GAAG;IACH,IAAIC,IAAI,IAAI;MAAEG,IAAI,EAAEH;IAAK,CAAC,CAAC;IAC3BI,WAAW,EAAEH,MAAM,CAACI;EACxB,CAAC,CAAC,CACDC,IAAI,CAAEC,GAAG,IAAK;IACXC,OAAO,CAACC,GAAG,CAAC,KAAK,EAACF,GAAG,CAAC;IACtB,CAAAA,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEJ,IAAI,KAAIO,OAAO,CAACH,GAAG,CAACJ,IAAI,CAAC;EAClC,CAAC,CAAC,CACDQ,KAAK,CAAEC,GAAG,IAAK;IACZJ,OAAO,CAACC,GAAG,CAAC,KAAK,EAACG,GAAG,CAAC;IACtBC,QAAQ,CAAC,8BAA8B,CAAC;EAC5C,CAAC,CAAC,CAACC,OAAO,CAAC,MAAI;IACXC,UAAU,CAAC,KAAK,CAAC;EACrB,CAAC,CAAC;EAGN,OAAO;IAAEZ,IAAI;IAAEa,OAAO;IAAEC;EAAM,CAAC;AACnC"},"metadata":{},"sourceType":"module","externalDependencies":[]}