{"ast":null,"code":"var _jsxFileName = \"/home/hmaserv/Desktop/github/todo-app/src/views/pages/WeatherPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getUID, LocalStorage, ENDPOINTS, getCurrentLocation, callApi } from 'src/utils';\nimport { ModalForm, Task, WeatherCard } from 'src/components';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Box from '@mui/material/Box';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function WeatherPage() {\n  _s();\n  const [isLoading, setisLoading] = useState(false);\n  const [weatherDataArr, setWeatherDataArr] = useState([]);\n  const [weatherList, setWeatherList] = useState([]);\n  const numberOfDay = 24 / 3;\n  const handleChange = (event, newValue) => {\n    setWeatherDataArr(weatherList[newValue]);\n  };\n  const getWeatherData = async () => {\n    let coordinates = await getCurrentLocation();\n    try {\n      setisLoading(true);\n      let {\n        list\n      } = await callApi({\n        method: ENDPOINTS.getHourlyWeather.method,\n        url: `${ENDPOINTS.getHourlyWeather.url}?lat=${coordinates === null || coordinates === void 0 ? void 0 : coordinates.lat}&lon=${coordinates === null || coordinates === void 0 ? void 0 : coordinates.lon}&appid=${process.env.REACT_APP_WEATHER_API_KEY}`\n      });\n      const res = list.reduce((acc, curr, i) => {\n        if (!(i % numberOfDay)) {\n          // if index is 0 or can be divided by the `size`...\n          acc.push(list.slice(i, i + numberOfDay)); // ..push a chunk of the original array to the accumulator\n        }\n        return acc;\n      }, []);\n      console.log('res', res);\n      setWeatherList(res);\n\n      // setWeatherData(data);\n    } catch (err) {} finally {\n      setisLoading(false);\n    }\n  };\n  useEffect(() => {\n    getWeatherData();\n    console.log('moment(1703991600).format(dddd)', moment(1703980800).format('dddd')); //dt \n    //dt_txt 2023-12-31 00:00:00\n    console.log('moment(2023-12-31 00:00:00).format(dddd)', moment('2023-12-31 00:00:00').format('dddd')); //dt \n  }, []);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      bgcolor: 'background.paper',\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(Tabs, {\n      value: value,\n      onChange: handleChange,\n      variant: \"scrollable\",\n      scrollButtons: \"auto\",\n      \"aria-label\": \"scrollable auto tabs example\",\n      children: weatherList.map((weatherListItem, index) => /*#__PURE__*/_jsxDEV(Tab, {\n        label: moment(weatherListItem[0].dt_txt).format('dddd')\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 51\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(WeatherPage, \"PTaP8L0bMs9V7gqaHKwUhNpu2xU=\");\n_c = WeatherPage;\nvar _c;\n$RefreshReg$(_c, \"WeatherPage\");","map":{"version":3,"names":["React","useEffect","useState","getUID","LocalStorage","ENDPOINTS","getCurrentLocation","callApi","ModalForm","Task","WeatherCard","Tabs","Tab","Box","moment","jsxDEV","_jsxDEV","WeatherPage","_s","isLoading","setisLoading","weatherDataArr","setWeatherDataArr","weatherList","setWeatherList","numberOfDay","handleChange","event","newValue","getWeatherData","coordinates","list","method","getHourlyWeather","url","lat","lon","process","env","REACT_APP_WEATHER_API_KEY","res","reduce","acc","curr","i","push","slice","console","log","err","format","sx","bgcolor","display","justifyContent","children","value","onChange","variant","scrollButtons","map","weatherListItem","index","label","dt_txt","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/hmaserv/Desktop/github/todo-app/src/views/pages/WeatherPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getUID, LocalStorage, ENDPOINTS, getCurrentLocation, callApi } from 'src/utils';\nimport { ModalForm, Task, WeatherCard } from 'src/components';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Box from '@mui/material/Box';\nimport moment from 'moment'\n\nexport default function WeatherPage() {\n  const [isLoading, setisLoading] = useState(false);\n  const [weatherDataArr, setWeatherDataArr] = useState([]);\n  const [weatherList, setWeatherList] = useState([]);\n\n  const numberOfDay = 24/3;\n  const handleChange = (event, newValue) => {\n    setWeatherDataArr(weatherList[newValue])\n  };\n  const getWeatherData = async () => {\n    let coordinates = await getCurrentLocation();\n    try {\n      setisLoading(true);\n      let {list} = await callApi({\n        method: ENDPOINTS.getHourlyWeather.method,\n        url: `${ENDPOINTS.getHourlyWeather.url}?lat=${coordinates?.lat}&lon=${coordinates?.lon}&appid=${process.env.REACT_APP_WEATHER_API_KEY}`,\n      });\n      const res = list.reduce((acc, curr, i) => {\n        if ( !(i % numberOfDay)  ) {    // if index is 0 or can be divided by the `size`...\n          acc.push(list.slice(i, i + numberOfDay));   // ..push a chunk of the original array to the accumulator\n        }\n        return acc;\n      }, []);\n      console.log('res',res);\n      setWeatherList(res)\n      \n      // setWeatherData(data);\n    } catch (err) {\n    } finally {\n      setisLoading(false);\n    }\n  };\n  useEffect(() => {\n    getWeatherData();\n    console.log('moment(1703991600).format(dddd)',moment(1703980800).format('dddd'));//dt \n    //dt_txt 2023-12-31 00:00:00\n    console.log('moment(2023-12-31 00:00:00).format(dddd)',moment('2023-12-31 00:00:00').format('dddd'));//dt \n\n  }, []);\n  \n\n  return (\n    <Box sx={{ bgcolor: 'background.paper', display: 'flex', justifyContent: 'center' }}>\n      <Tabs value={value} onChange={handleChange} variant='scrollable' scrollButtons='auto' aria-label='scrollable auto tabs example'>\n        {weatherList.map((weatherListItem,index)=><Tab label={moment(weatherListItem[0].dt_txt).format('dddd')} key={index} />)}\n      </Tabs>\n    </Box>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}