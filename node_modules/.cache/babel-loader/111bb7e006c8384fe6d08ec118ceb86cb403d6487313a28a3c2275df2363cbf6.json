{"ast":null,"code":"// api.js\nimport axios from'axios';// Function to make a generic HTTP request\nexport async function callApi(_ref){let{method,url,body={},headers={},withFiles=false}=_ref;if(!url||!method){console.error('Both the URL and the method must be provided.');return Promise.reject({data:{message:'Both the URL and the method must be provided.'}});}// check network\nif(!navigator.onLine){// notify({ type: 'error', msg: 'not_online' });\nconsole.error('not_online');return Promise.reject({data:{message:'not_online'}});}return axios({method,url// ...(body && { data: body }),\n// headers: {\n//   Accept: 'application/json',\n//   Platform: 'web',\n//   'Content-Type': withFiles ? 'multipart/form-data' : 'application/json',\n//   ...headers,\n// },\n}).then(response=>response.data).catch(error=>{const errorResponse=error.response;switch(errorResponse===null||errorResponse===void 0?void 0:errorResponse.status){case 404:{break;}default:break;}return Promise.reject(errorResponse);});}","map":{"version":3,"names":["axios","callApi","_ref","method","url","body","headers","withFiles","console","error","Promise","reject","data","message","navigator","onLine","then","response","catch","errorResponse","status"],"sources":["/home/hmaserv/Desktop/github/todo-app/src/utils/callApi.js"],"sourcesContent":["// api.js\nimport axios from 'axios';\n\n\n// Function to make a generic HTTP request\nexport async function callApi({ method, url, body = {}, headers = {}, withFiles = false }) {\n  if (!url || !method) {\n    console.error('Both the URL and the method must be provided.');\n    return Promise.reject({\n      data:{\n        message:'Both the URL and the method must be provided.'\n      }\n    })\n  }\n  // check network\n  if (!navigator.onLine) {\n    // notify({ type: 'error', msg: 'not_online' });\n    console.error('not_online');\n    return Promise.reject({\n      data:{\n        message:'not_online'\n      }\n    });\n  }\n\n  return axios({\n    method,\n    url,\n    // ...(body && { data: body }),\n    // headers: {\n    //   Accept: 'application/json',\n    //   Platform: 'web',\n    //   'Content-Type': withFiles ? 'multipart/form-data' : 'application/json',\n    //   ...headers,\n    // },\n  })\n    .then((response) => response.data)\n    .catch((error) => {\n      const errorResponse = error.response;\n      switch (errorResponse?.status) {\n        case 404: {\n          break;\n        }\n        default:\n          break; \n      }\n      return Promise.reject(errorResponse);\n    });\n}\n\n\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAGzB;AACA,MAAO,eAAe,CAAAC,OAAOA,CAAAC,IAAA,CAA8D,IAA7D,CAAEC,MAAM,CAAEC,GAAG,CAAEC,IAAI,CAAG,CAAC,CAAC,CAAEC,OAAO,CAAG,CAAC,CAAC,CAAEC,SAAS,CAAG,KAAM,CAAC,CAAAL,IAAA,CACvF,GAAI,CAACE,GAAG,EAAI,CAACD,MAAM,CAAE,CACnBK,OAAO,CAACC,KAAK,CAAC,+CAA+C,CAAC,CAC9D,MAAO,CAAAC,OAAO,CAACC,MAAM,CAAC,CACpBC,IAAI,CAAC,CACHC,OAAO,CAAC,+CACV,CACF,CAAC,CAAC,CACJ,CACA;AACA,GAAI,CAACC,SAAS,CAACC,MAAM,CAAE,CACrB;AACAP,OAAO,CAACC,KAAK,CAAC,YAAY,CAAC,CAC3B,MAAO,CAAAC,OAAO,CAACC,MAAM,CAAC,CACpBC,IAAI,CAAC,CACHC,OAAO,CAAC,YACV,CACF,CAAC,CAAC,CACJ,CAEA,MAAO,CAAAb,KAAK,CAAC,CACXG,MAAM,CACNC,GACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF,CAAC,CAAC,CACCY,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACL,IAAI,CAAC,CACjCM,KAAK,CAAET,KAAK,EAAK,CAChB,KAAM,CAAAU,aAAa,CAAGV,KAAK,CAACQ,QAAQ,CACpC,OAAQE,aAAa,SAAbA,aAAa,iBAAbA,aAAa,CAAEC,MAAM,EAC3B,IAAK,IAAG,CAAE,CACR,MACF,CACA,QACE,MACJ,CACA,MAAO,CAAAV,OAAO,CAACC,MAAM,CAACQ,aAAa,CAAC,CACtC,CAAC,CAAC,CACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}