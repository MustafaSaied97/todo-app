{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nexport default function useFetch({\n  method,\n  url,\n  body = {}\n}, deps = []) {\n  _s();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setLoading('loading...');\n    setData(null);\n    setError(null);\n    const source = axios.CancelToken.source();\n    axios({\n      method,\n      url,\n      ...(body && {\n        data: body\n      }),\n      cancelToken: source.token\n    }).then(res => {\n      console.log('res', res);\n      (res === null || res === void 0 ? void 0 : res.data) && setData(res.data);\n    }).catch(err => {\n      console.log('err', err);\n      setError('An error occurred. Awkward..');\n    }).finally(() => {\n      setLoading(false);\n    });\n    return () => {\n      source.cancel();\n    };\n  }, [...deps]);\n  return {\n    data,\n    loading,\n    error\n  };\n}\n// (async () => {\n//   let coordinates=await getCurrentLocation()\n//   setCoordinates(coordinates)\n// })();\n\n// const { data, loading, error } = useFetch({\n//   url:`${ENDPOINTS.getCurrentWeather.url}?lat=${coordinates?.lat}&lon=${coordinates?.lon}&appid=${process.env.REACT_APP_WEATHER_API_KEY}`,\n//   method:ENDPOINTS.getCurrentWeather.method,\n// },[coordinates])\n_s(useFetch, \"zzftc7KK+fKkf+FTc61ZRBaeV24=\");","map":{"version":3,"names":["useState","useEffect","axios","useFetch","method","url","body","deps","_s","data","setData","loading","setLoading","error","setError","source","CancelToken","cancelToken","token","then","res","console","log","catch","err","finally","cancel"],"sources":["/home/hmaserv/Desktop/github/todo-app/src/hooks/useFetch.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport default function useFetch({ method, url, body = {}},deps=[]) {\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(null);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        setLoading('loading...');\n        setData(null);\n        setError(null);\n        const source = axios.CancelToken.source();\n        axios({\n            method,\n            url,\n            ...(body && { data: body }),\n            cancelToken: source.token\n        })\n        .then((res) => {\n            console.log('res',res);\n            res?.data && setData(res.data);\n        })\n        .catch((err) => {\n            console.log('err',err);\n            setError('An error occurred. Awkward..');\n        }).finally(()=>{\n            setLoading(false);\n        })\n        return () => {\n            source.cancel();\n        };\n    }, [...deps]);\n\n    return { data, loading, error };\n}\n// (async () => {\n    //   let coordinates=await getCurrentLocation()\n    //   setCoordinates(coordinates)\n    // })();\n\n      // const { data, loading, error } = useFetch({\n  //   url:`${ENDPOINTS.getCurrentWeather.url}?lat=${coordinates?.lat}&lon=${coordinates?.lon}&appid=${process.env.REACT_APP_WEATHER_API_KEY}`,\n  //   method:ENDPOINTS.getCurrentWeather.method,\n  // },[coordinates])"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAe,SAASC,QAAQA,CAAC;EAAEC,MAAM;EAAEC,GAAG;EAAEC,IAAI,GAAG,CAAC;AAAC,CAAC,EAACC,IAAI,GAAC,EAAE,EAAE;EAAAC,EAAA;EAChE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACZW,UAAU,CAAC,YAAY,CAAC;IACxBF,OAAO,CAAC,IAAI,CAAC;IACbI,QAAQ,CAAC,IAAI,CAAC;IACd,MAAMC,MAAM,GAAGb,KAAK,CAACc,WAAW,CAACD,MAAM,CAAC,CAAC;IACzCb,KAAK,CAAC;MACFE,MAAM;MACNC,GAAG;MACH,IAAIC,IAAI,IAAI;QAAEG,IAAI,EAAEH;MAAK,CAAC,CAAC;MAC3BW,WAAW,EAAEF,MAAM,CAACG;IACxB,CAAC,CAAC,CACDC,IAAI,CAAEC,GAAG,IAAK;MACXC,OAAO,CAACC,GAAG,CAAC,KAAK,EAACF,GAAG,CAAC;MACtB,CAAAA,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEX,IAAI,KAAIC,OAAO,CAACU,GAAG,CAACX,IAAI,CAAC;IAClC,CAAC,CAAC,CACDc,KAAK,CAAEC,GAAG,IAAK;MACZH,OAAO,CAACC,GAAG,CAAC,KAAK,EAACE,GAAG,CAAC;MACtBV,QAAQ,CAAC,8BAA8B,CAAC;IAC5C,CAAC,CAAC,CAACW,OAAO,CAAC,MAAI;MACXb,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC;IACF,OAAO,MAAM;MACTG,MAAM,CAACW,MAAM,CAAC,CAAC;IACnB,CAAC;EACL,CAAC,EAAE,CAAC,GAAGnB,IAAI,CAAC,CAAC;EAEb,OAAO;IAAEE,IAAI;IAAEE,OAAO;IAAEE;EAAM,CAAC;AACnC;AACA;AACI;AACA;AACA;;AAEE;AACJ;AACA;AACA;AAAAL,EAAA,CAzCsBL,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}