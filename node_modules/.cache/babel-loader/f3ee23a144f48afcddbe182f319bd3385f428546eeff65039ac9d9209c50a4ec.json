{"ast":null,"code":"// api.js\nimport axios from 'axios';\nimport router from '@/router/index';\nimport { ENDPOINTS, ROUTESNAMES, notify } from '@/helpers';\n\n// Function to make a generic HTTP request\nexport async function callApi({\n  method,\n  url,\n  body = {},\n  headers = {},\n  withFiles = false\n}) {\n  if (!url || !method) {\n    console.error('Both the URL and the method must be provided.');\n    returnPromise.reject({\n      data: {\n        message: 'Both the URL and the method must be provided.'\n      }\n    });\n  }\n  // check network\n  if (!navigator.onLine) {\n    // notify({ type: 'error', msg: 'not_online' });\n    console.error('not_online');\n    return Promise.reject({\n      data: {\n        message: 'not_online'\n      }\n    });\n  }\n  return axios({\n    method,\n    url,\n    ...(body && {\n      data: body\n    }),\n    headers: {\n      Accept: 'application/json',\n      Platform: 'web',\n      'Content-Type': withFiles ? 'multipart/form-data' : 'application/json',\n      ...headers\n    }\n  }).then(response => response.data).catch(error => {\n    const errorResponse = error.response;\n    switch (errorResponse === null || errorResponse === void 0 ? void 0 : errorResponse.status) {\n      case 404:\n        {\n          // router.push(ROUTESNAMES.errors._404);\n          break;\n        }\n      default:\n        () => {};\n    }\n    return Promise.reject(errorResponse);\n  });\n}","map":{"version":3,"names":["axios","router","ENDPOINTS","ROUTESNAMES","notify","callApi","method","url","body","headers","withFiles","console","error","returnPromise","reject","data","message","navigator","onLine","Promise","Accept","Platform","then","response","catch","errorResponse","status"],"sources":["/home/hmaserv/Desktop/github/todo-app/src/utils/callApi.js"],"sourcesContent":["// api.js\nimport axios from 'axios';\nimport router from '@/router/index';\nimport { ENDPOINTS, ROUTESNAMES, notify } from '@/helpers';\n\n// Function to make a generic HTTP request\nexport async function callApi({ method, url, body = {}, headers = {}, withFiles = false }) {\n  if (!url || !method) {\n    console.error('Both the URL and the method must be provided.');\n    returnPromise.reject({\n      data:{\n        message:'Both the URL and the method must be provided.'\n      }\n    })\n  }\n  // check network\n  if (!navigator.onLine) {\n    // notify({ type: 'error', msg: 'not_online' });\n    console.error('not_online');\n    return Promise.reject({\n      data:{\n        message:'not_online'\n      }\n    });\n  }\n\n  return axios({\n    method,\n    url,\n    ...(body && { data: body }),\n    headers: {\n      Accept: 'application/json',\n      Platform: 'web',\n      'Content-Type': withFiles ? 'multipart/form-data' : 'application/json',\n      ...headers,\n    },\n  })\n    .then((response) => response.data)\n    .catch((error) => {\n      const errorResponse=error.response\n      switch (errorResponse?.status) {\n        case 404: {\n          // router.push(ROUTESNAMES.errors._404);\n          break;\n        }\n        default:\n          () => {};\n      }\n      return Promise.reject(errorResponse);\n    });\n}\n\n\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,gBAAgB;AACnC,SAASC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,WAAW;;AAE1D;AACA,OAAO,eAAeC,OAAOA,CAAC;EAAEC,MAAM;EAAEC,GAAG;EAAEC,IAAI,GAAG,CAAC,CAAC;EAAEC,OAAO,GAAG,CAAC,CAAC;EAAEC,SAAS,GAAG;AAAM,CAAC,EAAE;EACzF,IAAI,CAACH,GAAG,IAAI,CAACD,MAAM,EAAE;IACnBK,OAAO,CAACC,KAAK,CAAC,+CAA+C,CAAC;IAC9DC,aAAa,CAACC,MAAM,CAAC;MACnBC,IAAI,EAAC;QACHC,OAAO,EAAC;MACV;IACF,CAAC,CAAC;EACJ;EACA;EACA,IAAI,CAACC,SAAS,CAACC,MAAM,EAAE;IACrB;IACAP,OAAO,CAACC,KAAK,CAAC,YAAY,CAAC;IAC3B,OAAOO,OAAO,CAACL,MAAM,CAAC;MACpBC,IAAI,EAAC;QACHC,OAAO,EAAC;MACV;IACF,CAAC,CAAC;EACJ;EAEA,OAAOhB,KAAK,CAAC;IACXM,MAAM;IACNC,GAAG;IACH,IAAIC,IAAI,IAAI;MAAEO,IAAI,EAAEP;IAAK,CAAC,CAAC;IAC3BC,OAAO,EAAE;MACPW,MAAM,EAAE,kBAAkB;MAC1BC,QAAQ,EAAE,KAAK;MACf,cAAc,EAAEX,SAAS,GAAG,qBAAqB,GAAG,kBAAkB;MACtE,GAAGD;IACL;EACF,CAAC,CAAC,CACCa,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACR,IAAI,CAAC,CACjCS,KAAK,CAAEZ,KAAK,IAAK;IAChB,MAAMa,aAAa,GAACb,KAAK,CAACW,QAAQ;IAClC,QAAQE,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEC,MAAM;MAC3B,KAAK,GAAG;QAAE;UACR;UACA;QACF;MACA;QACE,MAAM,CAAC,CAAC;IACZ;IACA,OAAOP,OAAO,CAACL,MAAM,CAACW,aAAa,CAAC;EACtC,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}