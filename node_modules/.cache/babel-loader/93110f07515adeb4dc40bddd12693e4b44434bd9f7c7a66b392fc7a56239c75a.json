{"ast":null,"code":"import React,{useEffect,useState}from'react';import Button from'@mui/material/Button';import{styled}from'@mui/material/styles';import Dialog from'@mui/material/Dialog';import DialogTitle from'@mui/material/DialogTitle';import DialogContent from'@mui/material/DialogContent';import DialogActions from'@mui/material/DialogActions';import IconButton from'@mui/material/IconButton';import CloseIcon from'@mui/icons-material/Close';import TextField from'@mui/material/TextField';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const BootstrapDialog=styled(Dialog)(_ref=>{let{theme}=_ref;return{'& .MuiDialogContent-root':{padding:theme.spacing(2)},'& .MuiDialogActions-root':{padding:theme.spacing(1)}};});export default function ModalForm(_ref2){let{open,mode,handleClose,data={},actions}=_ref2;const[formData,setFormData]=useState({});const[isTouched,setIsTouched]=useState(false);useEffect(()=>{setIsTouched(false);setFormData({...data});},[data]);useEffect(()=>{},[formData]);const handleChange=event=>{let cloneFormData={...formData};cloneFormData={...cloneFormData,[event.target.id]:event.target.value};setFormData(cloneFormData);};const handleSubmit=()=>{setIsTouched(true);if(formData.title===''||formData.description==='')return;mode=='add'?actions.onAddItem(formData):actions.onEditItem(formData);setIsTouched(false);handleClose();};return/*#__PURE__*/_jsx(_Fragment,{children:open&&/*#__PURE__*/_jsxs(BootstrapDialog,{onClose:handleClose,\"aria-labelledby\":\"customized-dialog-title\",open:open,children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{m:0,p:2},id:\"customized-dialog-title\",children:mode=='add'?'Add new Task':\"Task: \".concat(data.title)}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",onClick:handleClose,sx:{position:'absolute',right:8,top:8,color:theme=>theme.palette.grey[500]},children:/*#__PURE__*/_jsx(CloseIcon,{})}),/*#__PURE__*/_jsxs(DialogContent,{dividers:true,children:[/*#__PURE__*/_jsx(TextField,{sx:{mb:2},id:\"title\",label:\"title\",variant:\"filled\",multiline:true,rows:1,fullWidth:true,defaultValue:formData===null||formData===void 0?void 0:formData.title,onChange:handleChange,error:isTouched&&(formData===null||formData===void 0?void 0:formData.title)===\"\",helperText:isTouched&&(formData===null||formData===void 0?void 0:formData.title)===\"\"?'Empty!':' '}),/*#__PURE__*/_jsx(TextField,{sx:{mb:2},id:\"description\",multiline:true,rows:4,variant:\"filled\",fullWidth:true,label:\"description\",defaultValue:formData===null||formData===void 0?void 0:formData.description,onChange:handleChange,error:isTouched&&(formData===null||formData===void 0?void 0:formData.description)===\"\",helperText:isTouched&&(formData===null||formData===void 0?void 0:formData.description)===\"\"?'Empty!':' '}),/*#__PURE__*/_jsx(TextField,{sx:{mb:2,display:mode=='add'?'none':''},multiline:true,rows:1,id:\"created_at\",disabled:true,variant:\"filled\",fullWidth:true,label:\"created at\",defaultValue:formData===null||formData===void 0?void 0:formData.created_at,onChange:handleChange}),/*#__PURE__*/_jsx(TextField,{sx:{mb:2,display:mode=='add'?'none':''},multiline:true,rows:1,id:\"finished_at\",disabled:true,variant:\"filled\",fullWidth:true,label:\"finished at\",defaultValue:formData===null||formData===void 0?void 0:formData.finished_at,onChange:handleChange}),/*#__PURE__*/_jsx(TextField,{sx:{mb:2,display:mode=='add'?'none':''},multiline:true,rows:1,id:\"archive_at\",disabled:true,variant:\"filled\",fullWidth:true,label:\"archive at\",defaultValue:formData===null||formData===void 0?void 0:formData.archive_at,onChange:handleChange})]}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{autoFocus:true,onClick:handleSubmit,children:mode=='add'?'Submit':' Save changes'})})]})});}","map":{"version":3,"names":["React","useEffect","useState","Button","styled","Dialog","DialogTitle","DialogContent","DialogActions","IconButton","CloseIcon","TextField","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BootstrapDialog","_ref","theme","padding","spacing","ModalForm","_ref2","open","mode","handleClose","data","actions","formData","setFormData","isTouched","setIsTouched","handleChange","event","cloneFormData","target","id","value","handleSubmit","title","description","onAddItem","onEditItem","children","onClose","sx","m","p","concat","onClick","position","right","top","color","palette","grey","dividers","mb","label","variant","multiline","rows","fullWidth","defaultValue","onChange","error","helperText","display","disabled","created_at","finished_at","archive_at","autoFocus"],"sources":["/home/hmaserv/Desktop/github/todo-app/src/components/ModalForm.jsx"],"sourcesContent":["import  React,{useEffect, useState} from 'react';\nimport Button from '@mui/material/Button';\nimport { styled } from '@mui/material/styles';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport TextField from '@mui/material/TextField';\n\nconst BootstrapDialog = styled(Dialog)(({ theme }) => ({\n  '& .MuiDialogContent-root': {\n    padding: theme.spacing(2),\n  },\n  '& .MuiDialogActions-root': {\n    padding: theme.spacing(1),\n  },\n}));\n\nexport default function ModalForm({open,mode,handleClose,data={},actions}) {\n  const [formData, setFormData] = useState({})\n  const [isTouched, setIsTouched] = useState(false)\n \n  useEffect(()=>{\n    setIsTouched(false)\n    setFormData({...data})\n  },[data])\n  useEffect(()=>{\n  },[formData])\n\n  const handleChange = (event) => {\n    let cloneFormData={...formData};\n    cloneFormData={\n      ...cloneFormData,\n      [event.target.id]:event.target.value\n    }\n    setFormData(cloneFormData)\n  };\n  const handleSubmit = () => {\n    setIsTouched(true)\n    if(formData.title===''|| formData.description==='') return\n    mode=='add'?actions.onAddItem(formData):actions.onEditItem(formData)\n    setIsTouched(false)\n\n    handleClose()\n  };\n\n  \n  return (\n    <>{open&&\n      <BootstrapDialog\n        onClose={handleClose}\n        aria-labelledby=\"customized-dialog-title\"\n        open={open}\n      >\n        <DialogTitle sx={{ m: 0, p: 2 }} id=\"customized-dialog-title\">\n          {mode=='add'?\n          'Add new Task':\n          `Task: ${data.title}`\n          }\n        </DialogTitle>\n        <IconButton\n          aria-label=\"close\"\n          onClick={handleClose}\n          sx={{\n            position: 'absolute',\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n\n        <DialogContent dividers>\n\n          <TextField \n          sx={{ mb: 2 }}  \n          id=\"title\" \n          label=\"title\" \n          variant=\"filled\" \n          multiline\n          rows={1}\n          fullWidth \n          defaultValue={formData?.title}\n          onChange={handleChange}\n          error={isTouched&&formData?.title === \"\"} \n          helperText={isTouched&&formData?.title === \"\" ? 'Empty!' : ' '}\n          />\n          <TextField\n          \n          sx={{ mb: 2 }} \n          id=\"description\"\n          multiline\n          rows={4}\n          variant=\"filled\"\n          fullWidth\n          label=\"description\"\n          defaultValue={formData?.description}\n          onChange={handleChange}\n          error={isTouched&&formData?.description === \"\"} \n          helperText={isTouched&&formData?.description === \"\" ? 'Empty!' : ' '}\n        />\n        <TextField \n          sx={{ mb: 2,display: mode=='add'?'none':'' }}  \n          multiline\n          rows={1}\n          id=\"created_at\" \n          disabled\n          variant=\"filled\" \n          fullWidth  \n          label=\"created at\" \n          defaultValue={formData?.created_at}\n          onChange={handleChange}\n          />\n        <TextField \n          sx={{ mb: 2,display: mode=='add'?'none':''  }}  \n          multiline\n          rows={1}\n          id=\"finished_at\" \n          disabled\n          variant=\"filled\" \n          fullWidth  \n          label=\"finished at\" \n          defaultValue={formData?.finished_at}\n          onChange={handleChange}\n          />\n        <TextField \n          sx={{ mb: 2,display: mode=='add'?'none':''  }} \n          multiline\n          rows={1} \n          id=\"archive_at\" \n          disabled\n          variant=\"filled\" \n          fullWidth\n          label=\"archive at\" \n          defaultValue={formData?.archive_at}\n          onChange={handleChange}  \n          />\n    \n        </DialogContent>\n        \n        <DialogActions>\n          <Button autoFocus onClick={handleSubmit}>\n            {mode=='add'?\n          'Submit':\n          ' Save changes'\n\n          }\n          </Button>\n        </DialogActions>\n      </BootstrapDialog>\n      }\n    </>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}